{% extends "base.html" %}
{% block content %}
<style>
/* Use same styles as dashboard */
{% include 'dashboard.html' %}
</style>

<div class="dashboard">
  <!-- Same sidebar as dashboard -->
  <aside class="sidebar">
    <!-- Copy sidebar from dashboard.html -->
  </aside>

  <main class="main-content">
    <header class="header">
      <div class="header-left">
        <h2>ğŸ“Š Analytics</h2>
      </div>
    </header>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon primary">ğŸ“¦</div>
        <div class="stat-content">
          <h3>Total Files</h3>
          <div class="stat-value">{{ total_files }}</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon secondary">ğŸ’¾</div>
        <div class="stat-content">
          <h3>Total Size</h3>
          <div class="stat-value">{{ (total_size/1024/1024)|round(1) }} MB</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon success">ğŸ“ˆ</div>
        <div class="stat-content">
          <h3>Average File</h3>
          <div class="stat-value">{{ (avg_size/1024)|round(1) }} KB</div>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon warning">ğŸ“</div>
        <div class="stat-content">
          <h3>File Types</h3>
          <div class="stat-value">{{ file_types|length }}</div>
        </div>
      </div>
    </div>

    <div class="content-area">
      <div class="section-header">
        <div class="section-title">File Type Distribution</div>
      </div>
      
      <div style="background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 12px; padding: 24px;">
        {% if file_types %}
          {% for ext, count in file_types.items() %}
          <div style="display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid var(--border-color);">
            <span style="color: var(--text-primary); font-weight: 500;">.{{ ext }}</span>
            <span style="color: var(--accent-primary); font-weight: 600;">{{ count }} files</span>
          </div>
          {% endfor %}
        {% else %}
          <p style="text-align: center; color: var(--text-secondary); padding: 40px;">No data available</p>
        {% endif %}
      </div>
    </div>
  </main>
</div>
{% endblock %}